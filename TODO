Use clap ValueEnum for our enums. Also use arggroup to deny invalid arguments

Fully automated, complete testing, for every option

Manpages
